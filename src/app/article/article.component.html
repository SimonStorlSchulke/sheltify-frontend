<article>
  @for (section of sections; track $index) {
    <!-- This is disgusting code but it works -->
    @if (section.__component == "article-section.row-start") {
      @if (setRowColumnIndex($any(section))) {}
      <div
        class="article-rows sui wrapper"
        [attr.data-columns]="columnIndex"
        [class.text-center]="section.textCentered"
      ></div>
    } @else {
      @if (decrementRowColumnIndex()) {}
    }

    @if (section.__component != "article-section.row-start") {
      <div class="section-container" [class.bg-accent]="section.background">
        @switch (section.__component) {
          @case ("article-section.section-start") {
            <app-section-start [sectionData]="section" />
          }
          @case ("article-section.text") {
            <app-text-section [sectionData]="section" />
          }
          @case ("article-section.text-with-image-section") {
            <app-text-image-section [sectionData]="section" />
          }
          @case ("article-section.hero") {
            <app-hero-section [sectionData]="section" />
          }
          @case ("article-section.image") {
            <app-image-section [sectionData]="section" />
          }
          @case ("article-section.animal-cards") {
            <app-animal-cards-section [sectionData]="section" />
          }
          @case ("article-section.button-link") {
            <app-button-link-section [sectionData]="section" />
          }
          @case ("article-section.news-cards") {
            <app-blog-cards [sectionData]="section" />
          }
        }
      </div>
    }
  }
</article>
